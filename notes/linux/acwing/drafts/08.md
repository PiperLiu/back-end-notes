# 第八讲 租云服务器及配环境

- 作者：yxc
- 链接：https://www.acwing.com/file_system/file/content/whole/index/content/3074146/
- 来源：AcWing
- 著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。

<!-- @import "[TOC]" {cmd="toc" depthFrom=3 depthTo=3 orderedList=false} -->

<!-- code_chunk_output -->

- [概述](#概述)
- [阿里云](#阿里云)
- [腾讯云](#腾讯云)
- [华为云](#华为云)
- [作业](#作业)

<!-- /code_chunk_output -->

细分目录：

<!-- @import "[TOC]" {cmd="toc" depthFrom=3 depthTo=4 orderedList=false} -->

<!-- code_chunk_output -->

- [概述](#概述)
- [阿里云](#阿里云)
- [腾讯云](#腾讯云)
- [华为云](#华为云)
- [作业](#作业)

<!-- /code_chunk_output -->

### 概述

云平台的作用:
- 存放我们的docker容器，让计算跑在云端。
- 获得公网IP地址，让每个人可以访问到我们的服务。

任选一个云平台即可，推荐配置：
- 1核 2GB（后期可以动态扩容，前期配置低一些没关系）
网络带宽采用按量付费，最大带宽拉满即可（费用取决于用量，与最大带宽无关）
- 系统版本：ubuntu 20.04 LTS（推荐用统一版本，避免后期出现配置不兼容的问题）

`docker`安装教程地址：https://docs.docker.com/engine/install/ubuntu/

### 阿里云

地址：https://www.aliyun.com/

登录到租好的服务器。打开`Terminal`，然后：

```bash
ssh root@xxx.xxx.xxx.xxx
```

创建acs用户：

```bash
adduser acs  # 创建用户acs
usermod -aG sudo acs  # 给用户acs分配sudo权限
```

退回`Terminal`，然后配置`acs`用户的别名和免密登录，可以参考[ssh登录笔记](./04.md)。

将`Terminal`的配置传到租的服务器上：

```bash
scp .bashrc .vimrc .tmux.conf server_name:  # server_name需要换成自己配置的别名
```

然后登录自己的服务器，登录后安装`tmux`：

```bash
sudo apt-get update
sudo apt-get install tmux
```

然后打开`tmux`。（养成好习惯，所有工作都在`tmux`里进行，防止意外关闭终端后，工作进度丢失）

然后根据`docker`安装教程安装`docker`即可。

### 腾讯云

地址：https://cloud.tencent.com/

登录到租好的服务器。打开`Terminal`，然后：

```bash
ssh ubuntu@xxx.xxx.xxx.xxx  # 注意腾讯云登录的用户不是root，而是ubuntu
```

### 华为云

地址：https://www.huaweicloud.com/

登录到租好的服务器。打开`Terminal`，然后：

```bash
ssh root@xxx.xxx.xxx.xxx
```

### 作业

注意： 本次作业的2个题目不是独立的，每个题目会依赖于前一个题目，因此评测时如果当前题目错误，则不再评测后续题目。

创建好作业后，先进入文件夹`/home/acs/homework/lesson_8/`，然后：

(0) `进入homework_0`文件夹，然后：
- [1] 租一台云服务器
- [2] 配置服务器别名及免密登录
- [3] 将服务器别名写在当前目录下的`server_name.txt`文件中

(1) 进入`homework_1`文件夹，然后：
- [1] 在租好的云服务器中安装`docker`
- [2] 将服务器别名写在当前目录下的`server_name.txt`文件中
